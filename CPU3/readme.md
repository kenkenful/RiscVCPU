## CPU3
ロード命令に関して、①のクロックの立ち上がりでpcをラッチした後、クロック半サイクル後の②のクロックの立ち下がりでデータメモリから読み出すようにしました。
そのため、①から②までのクロック半サイクルでロードするアドレスの計算まで終わらなければなりません。</br>
データメモリについては、クロックのnegedgeに同期させることで、データメモリにBRAM（ブロックRAM）が使用されます。</br>
![CPU](https://github.com/user-attachments/assets/40c4a925-1aae-49f4-98fa-b7f351102c8d)


命令メモリからの読み出しもクロックに同期させようとすると、JUMPしたときにpcレジスタにラッチされた直後の命令を捨てる必要があります。</br>
以下の例だと、</br>
li	a0,10</br>
は実施してはいけない命令なので捨てる必要があります。その対応はCPU4で実施します。</br>
```
  a0:	02010413          	addi	s0,sp,32
  a4:	00a00513          	li	a0,10
  a8:	058000ef          	jal	100 <fib>
    ...

  100:	fe010113          	addi	sp,sp,-32
```
ちなみに、next_pcが指す命令は、緑線が組み合わせ回路のため、</br>
addi	s0,sp,32</br>
から</br>
addi	sp,sp,-32</br>
にすぐに変更されます。
![CPU](https://github.com/user-attachments/assets/f5377ced-188c-479a-8bbc-0605a5ce8fc9)
